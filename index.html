<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MacroFit Pro ‚Äî Optimis√© V3</title>

<style>
:root{
  --bg1:#0F1C3A;
  --bg2:#1F4B9C;
  --panel:#F4F6FA;
  --card:#FFFFFF;
  --border:#E1E6EE;
  --gold:#C9A227;
  --text:#0B132B;
  --muted:#5F6F8A;
}

/* GLOBAL */
*{box-sizing:border-box;}
body{
  margin:0;
  padding:0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
  background:linear-gradient(180deg, var(--bg1), var(--bg2));
  color:var(--text);
  min-height:100vh;
}

/* APP CONTAINER */
.app{
  max-width: 900px;
  margin:30px auto;
  background:var(--panel);
  padding:26px;
  border-radius:22px;
  box-shadow:0 0 30px rgba(0,0,0,.15);
}

/* MENU */
.menu{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:20px;
}
.menu button{
  background:var(--bg2);
  color:white;
  border:none;
  padding:10px 14px;
  border-radius:12px;
  font-weight:bold;
}

/* SECTIONS */
.section{
  margin-top:22px;
  padding-top:18px;
  border-top:1px solid var(--border);
}
.section h2{
  color:var(--bg2);
}

/* TABLES */
.table-box{
  margin-top:18px;
  background:var(--card);
  padding:14px;
  border-radius:16px;
  border-left:5px solid var(--gold);
}
table{
  width:100%;
  border-collapse:collapse;
}
th, td{
  border:1px solid var(--border);
  padding:8px;
  text-align:center;
  font-size:13px;
}

/* EXPLANATIONS */
.explain{
  background:#F1F3F7;
  padding:14px;
  border-radius:14px;
  margin-top:10px;
  font-size:13px;
}

/* INTERPRETATION */
.interpretation{
  background:#E6F4FF;
  padding:14px;
  border-radius:14px;
  border-left:5px solid var(--bg2);
  margin-top:16px;
}

/* BUTTONS */
button{
  width:100%;
  margin-top:18px;
  padding:14px;
  border-radius:16px;
  border:none;
  background:linear-gradient(90deg, var(--bg2), var(--gold));
  color:white;
  font-weight:900;
}
</style>
</head>

<body>

<div class="app">

<!-- ============== MENU ============== -->
<div class="menu">
  <h1>MacroFit Pro</h1>
  <button onclick="showForm()">Nouvel utilisateur</button>
</div>

<!-- ============== FORMULAIRE ============== -->
<div id="formPage">

<div class="section">
<h2>Donn√©es</h2>
<input id="age" type="number" placeholder="√Çge (ans)">
<input id="taille" type="number" placeholder="Taille (cm)">
<input id="poids" type="number" placeholder="Poids (kg)">
<input id="sommeil" type="number" placeholder="Sommeil (h/nuit)">
<input id="stress" type="number" placeholder="Stress (1‚Äì10)">

<select id="sexe">
  <option value="M">Homme</option>
  <option value="F">Femme</option>
</select>

<select id="activite">
  <option value="1.2">S√©dentaire</option>
  <option value="1.375">L√©ger</option>
  <option value="1.55">Mod√©r√©</option>
  <option value="1.725">Tr√®s actif</option>
  <option value="1.9">Extr√™me</option>
</select>

<select id="morpho">
  <option value="auto">Auto</option>
  <option value="ecto">Ectomorphe</option>
  <option value="meso">M√©somorphe</option>
  <option value="endo">Endomorphe</option>
</select>
</div>

<button onclick="calculate()">CALCULER</button>
</div>

<!-- ============== PAGE R√âSULTATS ============== -->
<div id="resultsPage" style="display:none;">

<div class="section">
<h2>üî¨ M√©tabolisme</h2>
<div class="table-box">
<table>
<tr><th>BMR (kcal/j)</th><th>TDEE (kcal/j)</th></tr>
<tr><td id="bmr"></td><td id="tdee"></td></tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ <b>BMR</b> = calories que ton corps br√ªle au repos (respirer, c≈ìur, cerveau).<br>
‚Ä¢ <b>TDEE</b> = calories totales d√©pens√©es par jour (BMR + activit√©).<br>
üëâ C‚Äôest la base de tous tes calculs de nutrition.
</div>
</div>

<div class="section">
<h2>üìè IMC & Seuils</h2>
<div class="table-box">
<table>
<tr><th>IMC</th><th>Cat√©gorie</th><th>Poids id√©al</th><th>Surpoids d√®s</th><th>Maigreur sous</th></tr>
<tr>
<td id="imc"></td>
<td id="imc_cat"></td>
<td id="ideal"></td>
<td id="overweight"></td>
<td id="underweight"></td>
</tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ L‚ÄôIMC relie ton poids √† ta taille.<br>
‚Ä¢ Il ne distingue pas muscle et graisse, donc c‚Äôest un indicateur global.<br>
‚Ä¢ ‚ÄúPoids id√©al‚Äù = poids th√©orique pour un IMC ‚âà 22,5.
</div>
</div>

<!-- MACROS -->
<div class="section">
<h2>üçó Prot√©ines (kcal ‚Üí g/j)</h2>
<div class="table-box">
<table>
<tr><th>Objectif</th><th>kcal</th><th>g/j</th></tr>
<tr><td>Maintien</td><td id="pcal_maint"></td><td id="p_maint"></td></tr>
<tr><td>S√®che</td><td id="pcal_cut"></td><td id="p_cut"></td></tr>
<tr><td>Prise</td><td id="pcal_bulk"></td><td id="p_bulk"></td></tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ Les prot√©ines servent √† construire et r√©parer le muscle.<br>
‚Ä¢ Plus tu es en s√®che, plus elles augmentent pour prot√©ger la masse musculaire.
</div>
</div>

<div class="section">
<h2>ü•ë Lipides (kcal ‚Üí g/j)</h2>
<div class="table-box">
<table>
<tr><th>Objectif</th><th>kcal</th><th>g/j</th></tr>
<tr><td>Maintien</td><td id="lcal_maint"></td><td id="l_maint"></td></tr>
<tr><td>S√®che</td><td id="lcal_cut"></td><td id="l_cut"></td></tr>
<tr><td>Prise</td><td id="lcal_bulk"></td><td id="l_bulk"></td></tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ Les lipides r√©gulent les hormones (testost√©rone, ≈ìstrog√®nes).<br>
‚Ä¢ Trop bas = fatigue, libido basse, r√©cup√©ration plus lente.
</div>
</div>

<div class="section">
<h2>üçö Glucides (kcal ‚Üí g/j)</h2>
<div class="table-box">
<table>
<tr><th>Objectif</th><th>kcal</th><th>g/j</th></tr>
<tr><td>Maintien</td><td id="gcal_maint"></td><td id="g_maint"></td></tr>
<tr><td>S√®che</td><td id="gcal_cut"></td><td id="g_cut"></td></tr>
<tr><td>Prise</td><td id="gcal_bulk"></td><td id="g_bulk"></td></tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ Les glucides = carburant principal pour l‚Äôentra√Ænement.<br>
‚Ä¢ Plus tu es actif, plus ils sont √©lev√©s.
</div>
</div>

<div class="section">
<h2>üß¨ Fatigue & R√©cup√©ration</h2>
<div class="table-box">
<table>
<tr>
<th>Score fatigue (/10)</th>
<th>Ajustement calories</th>
</tr>
<tr>
<td id="fatigue"></td>
<td id="cal_adj"></td>
</tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ Le score combine sommeil + stress.<br>
‚Ä¢ Plus il est √©lev√©, plus ton corps a besoin de r√©cup√©ration.
</div>
</div>

<div class="section">
<h2>üìä Indicateurs Quotidiens</h2>
<div class="table-box">
<table>
<tr>
<th>Hydratation</th>
<th>Objectif global</th>
<th>Caf√©ine max</th>
<th>Pas quotidiens</th>
</tr>
<tr>
<td id="water"></td>
<td id="objective"></td>
<td id="caffeine"></td>
<td id="steps"></td>
</tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ L‚Äôhydratation est calcul√©e selon ton poids.<br>
‚Ä¢ Les pas refl√®tent ton niveau d‚Äôactivit√©.<br>
‚Ä¢ La caf√©ine est une limite de s√©curit√©.
</div>
</div>

<div class="section">
<h2>üß¨ Analyse M√©tabolique</h2>
<div class="table-box">
<table>
<tr>
<th>Score m√©tabolique (/100)</th>
<th>D√©pense / s√©ance</th>
<th>Vitesse m√©tabolique</th>
<th>Strat√©gie calories</th>
</tr>
<tr>
<td id="score"></td>
<td id="burn"></td>
<td id="metabolic_speed"></td>
<td id="cal_strategy"></td>
</tr>
</table>
</div>
<div class="explain">
<b>Ce que √ßa signifie :</b><br>
‚Ä¢ Le score refl√®te ta proximit√© avec un IMC optimal.<br>
‚Ä¢ ‚ÄúD√©pense / s√©ance‚Äù = estimation de calories br√ªl√©es √† l‚Äôentra√Ænement.<br>
‚Ä¢ La strat√©gie calories guide ton objectif nutritionnel.
</div>
</div>

<div class="section">
<h2>üèÜ Recommandations</h2>

<div class="table-box">
<table>
<tr>
<th>Compl√©ments</th>
<th>Plan d‚Äôentra√Ænement</th>
<th>Zig-zag calorique</th>
</tr>
<tr>
<td id="supps"></td>
<td id="plan"></td>
<td id="zigzag"></td>
</tr>
</table>
</div>

<div class="interpretation">
<h3>Interpr√©tation personnalis√©e</h3>
<p id="advice"></p>
</div>
</div>

<button onclick="window.print()">T√âL√âCHARGER PDF</button>
</div>

<script>
function showForm(){
document.getElementById("formPage").style.display="block";
document.getElementById("resultsPage").style.display="none";
}

function calculate(){

const age = +document.getElementById("age").value;
const taille = +document.getElementById("taille").value;
const poids = +document.getElementById("poids").value;
const sexe = document.getElementById("sexe").value;
const act = +document.getElementById("activite").value;
const morpho = document.getElementById("morpho").value;
const sommeil = +document.getElementById("sommeil").value || 7;
const stress = +document.getElementById("stress").value || 5;

// ==== BMR ====
const bmr = (sexe==="M")
? (10*poids)+(6.25*taille)-(5*age)+5
: (10*poids)+(6.25*taille)-(5*age)-161;

// ==== TDEE ====
let tdee = bmr * act;

// ==== IMC ====
const h = taille/100;
const imc = poids/(h*h);
let imc_cat = imc<18.5?"Maigreur":imc<25?"Normal":imc<30?"Surpoids":"Ob√©sit√©";
const ideal = (22.5*h*h).toFixed(1);
const overweight = (25*h*h).toFixed(1);
const underweight = (18.5*h*h).toFixed(1);

// ==== SOMATOTYPE ====
let somato = "";
if(morpho==="auto"){
  if(imc < 20) somato = "Ectomorphe";
  else if(imc <= 25) somato = "M√©somorphe";
  else somato = "Endomorphe";
} else {
  somato = morpho==="ecto" ? "Ectomorphe" :
            morpho==="meso" ? "M√©somorphe" :
            "Endomorphe";
}

// Ajustement TDEE
if(somato==="Ectomorphe") tdee *= 1.05;
if(somato==="Endomorphe") tdee *= 0.95;

// ==== MACROS ====
let p_maint = poids*2.2;
let p_cut = poids*2.6;
let p_bulk = poids*2.0;

let l_maint = poids*0.8;
let l_cut = poids*0.7;
let l_bulk = poids*0.9;

let g_maint = (tdee - (p_maint*4) - (l_maint*9))/4;
let g_cut = (tdee - 350 - (p_cut*4) - (l_cut*9))/4;
let g_bulk = (tdee + 350 - (p_bulk*4) - (l_bulk*9))/4;

// ==== FATIGUE ====
const fatigue = Math.max(0, Math.min(10, (10 - sommeil) + (stress/2)));
let cal_adj = "";
if(fatigue >= 7) cal_adj = "-150 kcal conseill√©s";
else if(fatigue >= 4) cal_adj = "Maintien calorique";
else cal_adj = "+150 kcal possibles";

// ==== AFFICHAGE ====
document.getElementById("bmr").innerText = Math.round(bmr);
document.getElementById("tdee").innerText = Math.round(tdee);

document.getElementById("imc").innerText = imc.toFixed(1);
document.getElementById("imc_cat").innerText = imc_cat;
document.getElementById("ideal").innerText = ideal+" kg";
document.getElementById("overweight").innerText = overweight+" kg";
document.getElementById("underweight").innerText = underweight+" kg";

document.getElementById("pcal_maint").innerText = Math.round(p_maint*4)+" kcal";
document.getElementById("lcal_maint").innerText = Math.round(l_maint*9)+" kcal";
document.getElementById("gcal_maint").innerText = Math.round(g_maint*4)+" kcal";

document.getElementById("p_maint").innerText = Math.round(p_maint)+" g/j";
document.getElementById("l_maint").innerText = Math.round(l_maint)+" g/j";
document.getElementById("g_maint").innerText = Math.round(g_maint)+" g/j";

document.getElementById("fatigue").innerText = fatigue.toFixed(1)+"/10";
document.getElementById("cal_adj").innerText = cal_adj;

// ==== INDICATEURS QUOTIDIENS ====
document.getElementById("water").innerText =
`${(poids*30).toFixed(0)}‚Äì${(poids*35).toFixed(0)} ml/jour`;

document.getElementById("objective").innerText =
imc<18.5?"Prise de masse":
imc<25?"Maintien":
imc<30?"S√®che l√©g√®re":"Perte de poids progressive";

document.getElementById("caffeine").innerText =
(sexe==="M" ? 400 : 300) + " mg/j max";

document.getElementById("steps").innerText =
act <= 1.375 ? "6 000‚Äì8 000 pas" :
act <= 1.55 ? "8 000‚Äì10 000 pas" :
"10 000‚Äì12 000+ pas";

// ==== ANALYSE M√âTABOLIQUE ====
const score = Math.max(0, Math.min(100, 100 - Math.abs(22.5 - imc) * 2));
document.getElementById("score").innerText = score;

let burn = somato==="Ectomorphe" ? 350 :
           somato==="Endomorphe" ? 280 : 320;
document.getElementById("burn").innerText = burn + " kcal";

document.getElementById("metabolic_speed").innerText =
somato==="Ectomorphe" ? "Rapide" :
somato==="Endomorphe" ? "Lent" : "√âquilibr√©";

document.getElementById("cal_strategy").innerText =
imc < 18.5 ? "Surplus progressif" :
imc < 25 ? "Maintien optimis√©" :
imc < 30 ? "D√©ficit l√©ger" :
"D√©ficit contr√¥l√© + suivi";

// ==== RECOMMANDATIONS ====
document.getElementById("supps").innerText =
somato==="Ectomorphe"
? "Whey ‚Ä¢ Cr√©atine 3‚Äì5 g/j ‚Ä¢ Om√©ga-3"
: somato==="Endomorphe"
? "Whey ‚Ä¢ Om√©ga-3 ‚Ä¢ Magn√©sium soir"
: "Whey ‚Ä¢ Cr√©atine ‚Ä¢ Vitamine D";

document.getElementById("plan").innerText =
somato==="Ectomorphe"
? "3‚Äì4 muscu + cardio l√©ger"
: somato==="Endomorphe"
? "3 muscu + 2‚Äì3 cardio"
: "4 muscu + 1 cardio";

document.getElementById("zigzag").innerText =
"Jours training +150 kcal ‚Ä¢ Jours repos ‚àí150 kcal";

// === 32 INTERPR√âTATIONS (8 par cat√©gorie IMC) ===
const advice_sets = {
  maigreur:[
"Tu dois prioriser le surplus calorique progressif et limiter le cardio.",
"Ajoute une collation prot√©in√©e le soir.",
"Favorise les aliments denses en calories.",
"Entra√Æne-toi 3‚Äì4 fois/semaine, pas plus.",
"Vise +300 kcal/jour pendant 4 semaines.",
"Privil√©gie glucides complexes apr√®s l‚Äôentra√Ænement.",
"Dors au moins 7‚Äì8h par nuit.",
"√âvite les d√©ficits prolong√©s."
  ],
  normal:[
"Maintiens tes calories actuelles.",
"Progresse en charge √† la salle.",
"Garde un bon √©quilibre prot√©ines/lipides/glucides.",
"Surveille ta r√©cup√©ration.",
"Fais 8‚Äì10k pas/jour.",
"Hydrate-toi correctement.",
"Ajoute 1 s√©ance cardio l√©g√®re.",
"Optimise ton sommeil."
  ],
  surpoids:[
"R√©duis l√©g√®rement tes calories.",
"Augmente tes pas quotidiens.",
"Privil√©gie prot√©ines et fibres.",
"Limite les boissons sucr√©es.",
"Fais 3 s√©ances muscu + 2 cardio.",
"Suivi de poids hebdomadaire.",
"Hydrate-toi bien.",
"√âvite les r√©gimes trop drastiques."
  ],
  obesite:[
"D√©ficit contr√¥l√© conseill√©.",
"Musculation 3‚Äì4x/semaine.",
"Cardio r√©gulier mod√©r√©.",
"Prot√©ines √©lev√©es.",
"R√©duction progressive des calories.",
"Sommeil prioritaire.",
"Hydratation importante.",
"Suivi professionnel recommand√©."
  ]
};

let advice_list =
imc < 18.5 ? advice_sets.maigreur :
imc < 25 ? advice_sets.normal :
imc < 30 ? advice_sets.surpoids :
advice_sets.obesite;

document.getElementById("advice").innerText =
advice_list[Math.floor(Math.random()*advice_list.length)];

document.getElementById("formPage").style.display="none";
document.getElementById("resultsPage").style.display="block";
}
</script>
</body>
</html>
